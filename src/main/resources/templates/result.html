<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>FARS â€” SSGC Field Activity Report Results</title>
  <link rel="stylesheet" th:href="@{/css/result.css}">
</head>
<body>
  <div class="page">
    <div class="container">

      <!-- Header -->
      <div class="header" role="banner" aria-label="FARS header">
        <div class="logo"><img th:src="@{/image.png}" src="/image.png" alt="SSGC logo"></div>
        <div class="titles">
          <div class="top">FARS</div>
          <div class="main">SSGC Field Activity Reporting System (FARS)</div>
          <div class="sub">Field Activity Report Results</div>
        </div>
      </div>

      <!-- Toolbar -->
      <div id="toolbar" role="toolbar" aria-label="Results toolbar">
        <div class="left-tools">
          <button class="btn ghost" id="backBtn">â¬… Back to Dashboard</button>
          <button class="btn primary" onclick="window.location.href='/analysis'">ðŸ“Š View Analysis</button>
          <div id="counts">Total Records: <span id="totalCount">0</span> | Showing <span id="pageCount">0</span></div>
        </div>

        <div id="analysisSection" style="margin-top:20px; display:none;">
          <canvas id="crdChart"></canvas>
          <div id="crdSummary" style="margin-top:10px; font-weight:600;"></div>
        </div>

        <div class="right-tools">
          <label for="pageSizeSelect" style="font-weight:600; color:var(--muted); margin-right:6px;">Rows</label>
          <select id="pageSizeSelect">
            <option value="50">50</option>
            <option value="100">100</option>
            <option value="200">200</option>
          </select>

          <input id="searchBox" type="text" placeholder="Search..." aria-label="Search results">

          <div class="col-slider" title="Adjust column width">
            <label style="font-size:13px;color:var(--muted);font-weight:600;margin-right:4px;">Column width</label>
            <input id="colWidth" type="range" min="60" max="300" value="120">
            <span id="colWidthVal" style="width:44px; text-align:right; font-weight:700; color:var(--muted)">120px</span>
          </div>

          <button class="btn primary" id="downloadCsv">â¬‡ Download CSV</button>
          <form th:action="@{/logout}" action="/logout" method="post" style="display:inline;margin:0;">
            <button class="btn danger" type="submit">Logout</button>
          </form>
        </div>
      </div>

      <!-- Table -->
      <div class="table-wrap" role="region" aria-label="Results table">
        <table id="resultsTable" aria-describedby="counts">
          <thead>
            <tr>
              <th>ID</th><th>Unit</th><th>Region</th><th>Zone</th><th>Subzone</th>
              <th>Area</th><th>FA Type</th><th>Status</th><th>Scheduled Date</th>
              <th>FO Worked Date</th><th>Customer Name</th><th>Address</th><th>Meter No</th>
              <th>Remarks</th><th>Reason</th><th>Route</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div id="pagination" aria-label="Pagination"></div>
    </div>
  </div>

  <script th:src="@{/js/result.js}"></script>
</body>
</html>
